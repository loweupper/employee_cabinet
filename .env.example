# ===================================
# Employee Cabinet - Environment Variables Template
# ===================================
# Copy this file to .env and fill in actual values
# NEVER commit .env files with real credentials to git!

# ===================================
# Application Settings
# ===================================
APP_NAME=Employee Cabinet
DEBUG=false
ENVIRONMENT=development  # development, staging, production

# ===================================
# Security - SECRET_KEY
# ===================================
# CRITICAL: Use a strong, random secret key (min 32 characters)
# Generate with: python generate_secrets.py --type secret_key
SECRET_KEY=your-super-secret-key-min-32-chars-change-this-in-production

# ===================================
# Swagger/API Documentation Security
# ===================================
# Credentials for accessing /docs and /redoc endpoints
# Generate strong passwords with: python generate_secrets.py --type password
SWAGGER_USERNAME=admin
SWAGGER_PASSWORD=change-this-strong-password-123

# Control documentation visibility
ENABLE_DOCS=true
DOCS_REQUIRE_AUTH=true
# DOCS_ALLOWED_IPS: JSON array of allowed IP addresses/ranges
# Examples: ["127.0.0.1"], ["192.168.1.0/24", "10.0.0.1"], ["127.0.0.1", "192.168.1.100"]
DOCS_ALLOWED_IPS=["127.0.0.1"]

# ===================================
# Database Configuration (PostgreSQL)
# ===================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=employee_cabinet
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password

# Optional: Full database URL (if not provided, will be built from above)
# DATABASE_URL=postgresql://user:password@host:port/dbname

# Database Connection Pool Settings (configured in app/core/database.py):
# - pool_size=10 (constant pool of 10 connections)
# - max_overflow=20 (up to 20 additional connections during peak)
# - pool_pre_ping=True (verify connections before use)
# - pool_recycle=3600 (recycle connections every hour for security)

# ===================================
# Redis Configuration
# ===================================
redis_host=localhost
redis_port=6379

# Optional: Full Redis URL (if not provided, will be built from above)
# REDIS_URL=redis://localhost:6379/0

# ===================================
# JWT Configuration
# ===================================
JWT_ALGORITHM=HS256
JWT_EXPIRATION_SECONDS=3600
REFRESH_TOKEN_EXPIRATION_DAYS=7

# ===================================
# OTP Configuration
# ===================================
OTP_LENGTH=6
OTP_EXPIRATION_SECONDS=300
OTP_MAX_ATTEMPTS=5

# ===================================
# Email Configuration (SMTP)
# ===================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password-or-app-password
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=Employee Cabinet

# ===================================
# Rate Limiting
# ===================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=5
RATE_LIMIT_WINDOW_SECONDS=60

# ===================================
# Security - Account Lockout
# ===================================
ACCOUNT_LOCKOUT_THRESHOLD=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=15

# ===================================
# CORS Settings
# ===================================
# Comma-separated list of allowed origins (use JSON format)
# Example: ["http://localhost:3000","https://yourdomain.com"]
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]
CORS_CREDENTIALS=true
CORS_METHODS=["*"]
CORS_HEADERS=["*"]

# ===================================
# File Storage
# ===================================
FILES_PATH=/files

# ===================================
# Production Notes
# ===================================
# For production deployments:
# 1. Set DEBUG=false
# 2. Set ENVIRONMENT=production
# 3. Use strong SECRET_KEY (min 64 chars recommended)
# 4. Set ENABLE_DOCS=false (or restrict with DOCS_ALLOWED_IPS)
# 5. Use environment-specific credential management (Docker Secrets, K8s Secrets, AWS Secrets Manager)
# 6. Review SECURITY.md and DATABASE_SECURITY.md for complete deployment checklist

# ===================================
# Security Features (Built-in)
# ===================================
# - Password Hashing: bcrypt with 12 salt rounds (app/modules/auth/password.py)
# - Data Encryption: Fernet symmetric encryption (app/core/encryption.py)
# - Audit Logging: Track all critical operations (app/core/audit.py)
# - SQL Injection Prevention: SQLAlchemy ORM usage
# - Connection Pool: Secure settings with pool_recycle=3600
# - See DATABASE_SECURITY.md for complete documentation
